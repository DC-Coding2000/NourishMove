<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>NourishMove | Register</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="Register.css" type="text/css" />
  </head>
  <body>
    <div class="register-container">
      <img src="Images/Logo_Final.png" alt="NourishMove Logo" class="Logo" />
      <h1>Create an Account</h1>
      <form id="registrationForm">
        <input type="text" name="fullname" placeholder="Full Name" required />
        <input type="email" name="email" placeholder="Email" required />
        <input type="number" name="age" placeholder="Age" required />
        <input type="gender" name="gender" placeholder="Gender" required />
        <input
          type="password"
          name="password"
          placeholder="Password"
          required
        />
        <button type="submit">Register</button>
      </form>

      <p id="successMessage" value="" Register></p>
      <div class="login-link">
        <p>Already have an account? <a href="Login.html">Login here</a></p>
      </div>
      <div class="homepage-link">
        <p><a href="index.html">Back to Homepage</a></p>
      </div>
    </div>
    <script>
      // Get the registration form element
      var registrationForm = document.getElementById("registrationForm");

      // Check if the form element exists
      if (registrationForm) {
        // Registration form submit handler
        registrationForm.addEventListener("submit", function (event) {
          event.preventDefault();

          // Fetching input values
          var fullname = document.getElementsByName("fullname")[0].value;
          var email = document.getElementsByName("email")[0].value;
          var age = document.getElementsByName("age")[0].value;
          var gender = document.getElementsByName("gender")[0].value;
          var password = document.getElementsByName("password")[0].value;

          // Create a user object
          var user = {
            fullname: fullname,
            email: email,
            age: age,
            gender: gender,
            password: password,
          };

          // Get existing users from localStorage or create an empty array if none
          let users = JSON.parse(localStorage.getItem("users")) || [];

          // Add the new user to the array
          users.push(user);

          // Store the updated array in localStorage
          localStorage.setItem("users", JSON.stringify(users));

          // Display success message or redirect to login page
          alert("Registration successful!");

          // Reset the form
          registrationForm.reset();
        });
      } else {
        console.error("Registration form element not found.");
      }
    </script>
  </body>
</html>
